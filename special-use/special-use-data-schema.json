{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Special use application",
    "description": "An application for a special use permit from the U.S. Forest Service",
    "definitions": {
      "applicant-info": {
        "type": "object",
        "properties": {
      		"firstName": { "type": "string" },
      		"lastName": {	"type": "string" },
          "dayPhone": { "type": "integer" },
          "eveningPhone": { "type": "integer" },
          "emailAddress": { "type": "string" },
          "mailingAddress": { "type": "string" },
          "mailingCity": { "type": "string" },
          "mailingState": { "type": "string" },
          "mailingZIP": { "type": "integer" },
      		"organizationName": {
      			"description": "The name of the group, company, organization or event applying",
      			"type": "integer",
      		},
          "website": { "type": "string" },
        "required": ["firstName","lastName","dayPhone","emailAddress","mailingAddress","mailingCity","mailingZIP","mailingState","organizationName"]
      },
      "non-commercial-fields": {
        "type": "object",
        "properties": {
      		"activityDescription": { "type": "string" },
      		"locationDescription": {	"type": "string" },
          "startDateTime": { "type": "dateTime" },
          "endDateTime": { "type": "dateTime" },
          "numberParticipants" : { "type": "integer" }
      		},
        "required": ["id"]
      },
      "temp-outfitter-fields": {
        "type": "object",
        "properties": {
          "orgType": { "type": { "enum": [ "Individual"  , "Corporation"  , "Limited Liability Company"  , "Partnership or Association"  , "State Government or Agency"  , "Local Government or Agency"  , "Nonprofit" ] } },
      		"insuranceCertificate": {	"type": "file" },
          "goodStandingEvidence": {
      			"description": "Certificate of good standing, operating agreement, or other evidence the business is in good standing",
            "type": "file"
          },
          "operatingPlan": {
      			"description": "A completed Word or RTF operating plan template.",
            "type": "file"
          },
      	},
        "required": ["orgType","insuranceCertificate","goodStandingEvidence","operatingPlan"]
      },
    },
    "type": "object",
    "properties": {
      "applicant-info": { "$ref": "#/definitions/applicant-info" },
      "type" : { "enum" : ["non-commercial-app","temp-outfitter-guide-app"]},
      "type-specific-fields": {
        "oneOf": [
          { "$ref": "#/definitions/non-commercial-fields" },
          { "$ref": "#/definitions/non-commercial-fields" },
        ]
      }
    }
}
